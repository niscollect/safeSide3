<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
</head>

<body>
    Email:<input type="email" id="loginEmail">
    <br><br><br>
    Password:<input type="password" id="loginPassword">
    <br><br><br><br>
    <button id="loginButton" type="submit">Log in</button>
    <br><br>
    <p id="loginError" style="color: red;"></p>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";

        const firebaseConfig = {
          apiKey: "AIzaSyBMaSahaGoPlBfle1j9NcmduytyuVMQk4E",
          authDomain: "safeside-pre.firebaseapp.com",
          projectId: "safeside-pre",
          storageBucket: "safeside-pre.firebasestorage.app",
          messagingSenderId: "674744021415",
          appId: "1:674744021415:web:5e77ba1887c4a826be0682"
        };
      
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        

        /////-----------------------------------/////
        auth.onAuthStateChanged((user) => {
        if (user) {
            // If the user is logged in, redirect to home.html

            window.location.href = "/home";
        } else {
            // If not logged in, stay on the login or registration page
            console.log("User not logged in");
        }
       });
    //    export default loggedIn;
        /////-----------------------------------/////



        window.auth = auth;
        window.signInWithEmailAndPassword = signInWithEmailAndPassword;
        window.onAuthStateChanged = onAuthStateChanged;
        window.signOut = signOut;
    </script>

    <script type="module" src="/login.js"></script>

    
</body>

</html>